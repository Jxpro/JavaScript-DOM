function highlightPage(){if(!document.getElementById)return!1;if(!document.getElementsByTagName)return!1;let e=document.getElementById("hearder-nav-list");if(!e)return!1;let t=e.getElementsByTagName("a");if(!t.length)return!1;let n=window.location.href;for(let e of t)n.indexOf(e.href)>-1&&(addClass(e,"here"),document.body.id=e.innerHTML.toLocaleLowerCase())}function prepareSlideshow(){if(!document.getElementById)return!1;if(!document.createElement)return!1;let e=document.getElementById("intro");if(!e)return!1;let t=document.createElement("div"),n=document.getElementsByTagName("a");t.id="slideshow",insertAfter(t,e);for(let e of n)e.onmouseover=function(){switch(this.getAttribute("href")){case"index.html":t.style.backgroundPositionX=0;break;case"about.html":t.style.backgroundPositionX="-150px";break;case"photos.html":t.style.backgroundPositionX="-300px";break;case"live.html":t.style.backgroundPositionX="-450px";break;case"contact.html":t.style.backgroundPositionX="-600px";break}}}function showSection(e){let t=document.getElementsByTagName("section");for(let n of t)n.style.display=n.id===e?"block":"none"}function prepareInternalnav(){if(!document.getElementById)return!1;let e=document.getElementById("about-nav-list");if(!e)return!1;let t=e.getElementsByTagName("a");for(let e of t){let t=e.href.split("#")[1],n=document.getElementById(t);n&&(e.secid=t,n.style.display="none",e.onclick=function(){return showSection(this.secid),!1})}}function showPic(e){let t=document.getElementById("placeholder"),n=document.getElementById("description");if(!t)return!1;if(t.src=e.getAttribute("href"),n){let t=e.title;n.firstChild.nodeValue=t}return!0}function preGallery(){if(!document.getElementsByTagName)return!1;if(!document.getElementById)return!1;let e=document.getElementById("imagegallery");if(!e)return!1;{let t=e.getElementsByTagName("a");for(let e of t)e.onclick=function(){return!showPic(this)}}}function prePlaceHolder(){if(!document.getElementById)return!1;if(!document.createElement)return!1;if(!document.createTextNode)return!1;let e=document.getElementById("imagegallery");if(!e)return!1;let t=document.createElement("img");t.id="placeholder",t.src="./src/img/placeholder.gif",t.alt="My Image Galley",t.setAttribute("width","475px");let n=document.createElement("p");n.id="description";let r=document.createTextNode("Choose an image");n.appendChild(r),insertAfter(n,e),insertAfter(t,n)}function displayAbbreviations(){if(!document.getElementById)return!1;if(!document.createElement)return!1;if(!document.createTextNode)return!1;let e=document.getElementsByTagName("abbr");if(!e.length)return!1;let t=[];for(let n of e)n.childNodes.length&&(t[n.innerHTML]=n.title);let n=document.createElement("dl");for(let e in t){let r=document.createElement("dt"),o=document.createTextNode(e);r.appendChild(o);let l=document.createElement("dd"),i=document.createTextNode(t[e]);l.appendChild(i),n.appendChild(r),n.appendChild(l)}if(!n.childNodes.length)return!1;let r=document.createElement("h3"),o=document.createTextNode("Abbreviations");r.appendChild(o);let l=document.getElementsByTagName("article")[0];if(!l)return!1;l.appendChild(r),l.appendChild(n)}function resetFields(e){for(let t of e){if("submit"===t.type)continue;let e=t.placeholder;e&&(t.onfocus=function(){this.value===e&&(this.value="",this.className="")},t.onblur=function(){""===this.value&&(this.value=e,this.className="placeholder")},t.onblur())}}function prepareForms(){for(let e of document.forms)resetFields(e),e.onsubmit=function(){return!submitFormWithAjax(this,document.getElementsByTagName("article")[0])}}function displayAjaxLoading(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);let t=document.createElement("img");t.src="./src/img/loading.gif",t.alt="loading",t.setAttribute("width","50px"),e.appendChild(t)}function submitFormWithAjax(e,t){let n=new XMLHttpRequest;return!!n&&(displayAjaxLoading(t),n.open("GET",e.action),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){let e=n.responseText.match(/<article>([\s\S]+)<\/article>/);t.innerHTML=e?e[1]:"<p>Oops, there was an error</p>"}else t.innerHTML="<p>"+n.statusText+"</p>"},n.send(),!0)}addLoadEvent(highlightPage),addLoadEvent(prepareSlideshow),addLoadEvent(prepareInternalnav),addLoadEvent(prePlaceHolder),addLoadEvent(preGallery),addLoadEvent(displayAbbreviations),addLoadEvent(prepareForms);